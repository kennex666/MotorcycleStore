package dao;

import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import connectDB.ConnectDB;
import interfaces.IKho;

public class Kho_DAO implements IKho {
	Connection con = ConnectDB.getConnection(); 

	@Override
	public int getSoLuongById(String maSP) {
		String query = "SELECT * FROM SP_Kho WHERE MaSP = '" + maSP + "'";
		try {
			Statement stm = con.createStatement();
			ResultSet results = stm.executeQuery(query);
			if (results.next()) {
				return results.getInt("soLuong");
			}
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return 0;
	}

	@Override
	public void updateQuantity(String maSP, int newSoLuong) {
		// TODO Auto-generated method stub
		String query = "UPDATE SanPham_Kho_Kho SET SoLuong = '" + newSoLuong + "' WHERE MaXe = '" + maSP + "'";
		try {
			Statement stm = con.createStatement();
			stm.executeUpdate(query);
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

}
